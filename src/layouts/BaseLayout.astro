---
export interface Props {
  title?: string;
}

const { title = "Project Fawn" } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title} · Project Fawn</title>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <style is:global>
      :root {
        --bg: #000;
        --fg: #eee;
        --muted: #888;
        --border: #222;
        --accent: #A8FFB0;
      }

      *, *::before, *::after { box-sizing: border-box; }

      html, body {
        margin: 0;
        padding: 0;
        background: var(--bg);
        color: var(--fg);
        font-family: 'IBM Plex Mono', monospace;
      }

      a { color: var(--accent); text-decoration: none; }

      header {
        display: grid;
        place-items: center;
        padding: 18px 0;
        border-bottom: 1px solid var(--border);
      }

      header .logo { display: inline-block; }

      /* Big deer logo, ~40% of viewport width, capped for huge screens */
      header img {
        width: min(40vw, 520px);
        height: auto;
        display: block;
      }

      main { max-width: 980px; margin: 0 auto; padding: 24px 16px; }
      hr { border: none; border-top: 1px solid var(--border); margin: 24px 0; }

      /* Constrain inline images inside posts */
      article img {
        display: block;
        max-width: 100%;  /* never overflow the 980px article */
        width: 100%;
        height: auto;     /* keep aspect ratio */
        margin: 1rem auto;/* center + breathing room */
        cursor: zoom-in;  /* hint it's clickable */
      }

      footer {
        max-width: 980px;
        margin: 0 auto;
        padding: 24px 16px 40px;
        border-top: 1px solid var(--border);
        color: var(--muted);
        text-align: center;
      }

      .signup {
        max-width: 640px;
        margin: 0 auto 16px;
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .signup input[type="email"] {
        flex: 1;
        padding: 12px 12px;
        border: 1px solid var(--border);
        background: transparent;
        color: var(--fg);
        outline: none;
      }

      .signup button {
        padding: 12px 14px;
        border: 1px solid var(--fg);
        background: transparent;
        color: var(--fg);
        cursor: pointer;
      }

      .signup button:hover {
        background: color-mix(in srgb, var(--fg) 10%, transparent);
      }

      .copyright { margin-top: 12px; font-size: .85rem; }
    </style>
  </head>

  <body>
    <header>
      <a class="logo" href="/" aria-label="Back to home">
        <img src="/images/project-fawn-logo.png" alt="Project Fawn Logo" />
      </a>
    </header>

    <main>
      <slot />
    </main>

    <footer>
      <!-- Site-wide Formspree signup -->
      <form class="signup" action="https://formspree.io/f/mwprbglv" method="POST">
        <input type="email" name="email" placeholder="you@example.com" required />
        <button type="submit">Sign Up</button>
      </form>
      <div class="copyright">© {new Date().getFullYear()} Project Fawn. All rights reserved.</div>
    </footer>
  </body>
</html>
