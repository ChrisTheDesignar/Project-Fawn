---
export interface Props { title?: string; }
const { title = "Project Fawn" } = Astro.props;

import { inject } from '@vercel/analytics';

// Only inject in production so dev stays clean
if (import.meta.env.PROD) {
  inject();
}
---


<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title} · Project Fawn</title>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <style is:global>
      :root {
        --bg: #000;
        --fg: #eee;
        --muted: #888;
        --border: #222;
        --accent: #A8FFB0; /* site green */
      }

      *, *::before, *::after { box-sizing: border-box; }

      html, body {
        margin: 0;
        padding: 0;
        background: var(--bg);
        color: var(--fg);
        font-family: 'IBM Plex Mono', monospace;
      }

      a { color: var(--accent); text-decoration: none; }

      header {
        display: grid;
        place-items: center;
        padding: 18px 0;
        border-bottom: 1px solid var(--border);
      }

      header .logo { display: inline-block; }

      header img {
        width: min(40vw, 520px);
        height: auto;
        display: block;
      }

      main { max-width: 980px; margin: 0 auto; padding: 24px 16px; }

      /* Thin horizontal rules site-wide */
      hr, .rule { border: none; border-top: 1px solid var(--border); margin: 24px 0; }

      /* Images inside posts */
      article img {
        display: block;
        max-width: 100%;
        width: 100%;
        height: auto;
        margin: 1rem auto;
        cursor: zoom-in;
        border: 1px solid var(--border);
      }

      .post-date { font-size: .8rem; color: var(--muted); display: block; margin-top: .25rem; }

      /* ===== TL;DR ===== */

      /* If you add classes in MDX */
      h2.tldr-heading { color: var(--accent); margin-bottom: .35rem; font-weight: 700; }
      article .tldr {
        color: var(--accent);
        font-weight: 700;     /* bold */
        font-style: normal;   /* no italics */
        font-size: clamp(1.125rem, 1rem + 1vw, 1.5rem);
        line-height: 1.6;
        margin: .25rem 0 1.0rem;
      }
      /* Neutralize old left bar if present */
      article .tldr-box { border: 0; padding-left: 0; }

      /* Automatic fallback — works with plain Markdown:
         make the TL;DR heading and the FIRST paragraph after it green/bold. */
      h2[id*="tldr"], h2[id*="tl-dr"] {
        color: var(--accent);
        font-weight: 700;
      }
      h2[id*="tldr"] + p,
      h2[id*="tl-dr"] + p {
        color: var(--accent);
        font-weight: 700;
        font-style: normal;
      }

      /* ===== Horizontal gallery base (one image per view) ===== */
      .hscroll { position: relative; margin: 1rem 0; }
      .hscroll .track {
        display: flex; gap: 12px; overflow-x: auto; padding-bottom: 4px;
        scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch;
      }
      .hscroll .item { flex: 0 0 100%; max-width: 100%; scroll-snap-align: start; }
      .hscroll figure { margin: 0; }
      .hscroll img { display:block; width:100%; height:auto; border: 1px solid var(--border); }
      .hscroll figcaption { color: var(--muted); font-size: .8rem; padding: 6px 0; text-align:center; }

      /* Subtle triangle arrows */
      .hscroll .arrow {
        position: absolute; top: 50%; transform: translateY(-50%);
        width: 44px; height: 44px; background: transparent; border: 0; cursor: pointer;
        opacity: .80;
      }
      .hscroll .arrow.left  { left: 8px; }
      .hscroll .arrow.right { right: 8px; }
      .hscroll .arrow::before {
        content: ""; display:block; margin: 0 auto; width:0; height:0;
        border-top:10px solid transparent; border-bottom:10px solid transparent;
      }
      .hscroll .arrow.right::before { border-left: 14px solid var(--accent); }
      .hscroll .arrow.left::before  { border-right:14px solid var(--accent); }
      @media (hover:hover){ .hscroll:hover .arrow { opacity:.7; } }



        /* 16:9 responsive embed */
        .yt-embed {
          position: relative;
          width: 100%;
          aspect-ratio: 16 / 9;   /* modern browsers */
          background: #000;
          border: 1px solid var(--border);
        }
        .yt-embed iframe {
          position: absolute; inset: 0;
          width: 100%; height: 100%;
          border: 0;
        }



      footer {
        max-width: 980px;
        margin: 0 auto;
        padding: 24px 16px 40px;
        border-top: 1px solid var(--border);
        color: var(--muted);
        text-align: center;
      }

/* full-bleed utility (lets sections span the page width) */
.full-bleed {
  width: 100vw;
  margin-left: 50%;
  transform: translateX(-50%);
}

/* Instagram embed: remove white card & let it expand */
.instagram-media {
  background: transparent !important;
  box-shadow: none !important;
  border: 0 !important;
  max-width: 100% !important;
  width: 100% !important;
  min-width: 0 !important;
}

      .signup { max-width: 640px; margin: 0 auto 16px; display: flex; gap: 8px; align-items: center; }
      .signup input[type="email"] { flex: 1; padding: 12px 12px; border: 1px solid var(--border); background: transparent; color: var(--fg); outline: none; }
      .signup button { padding: 12px 14px; border: 1px solid var(--fg); background: transparent; color: var(--fg); cursor: pointer; }
      .signup button:hover { background: color-mix(in srgb, var(--fg) 10%, transparent); }
      .copyright { margin-top: 12px; font-size: .85rem; }
    
/* --- CTD footer link & layout --- */
.footer-meta{
  display: flex;
  align-items: center;            /* vertically center text + logo */
  justify-content: space-between; /* text left edge, logo to right edge */
  gap: 12px;
  margin-top: 12px;
  text-align: left;               /* override footer's center text */
  width: 100%;
}
.footer-ctd img{
  height: 28px; width: auto;
  opacity: .4;
  transition: opacity .2s ease;
}
.footer-ctd:hover img,
.footer-ctd:focus-visible img{ opacity: 1; }
.footer-ctd:focus-visible{ outline: 2px dashed var(--accent); outline-offset: 4px; }

/* Small screens: keep logo at the right edge */
@media (max-width: 520px){
  .footer-meta{ flex-wrap: wrap; }
  .footer-ctd{ margin-left: auto; }  /* pushes logo to the right */
}

    
    
    </style>
  </head>

<script async src="https://www.instagram.com/embed.js"></script>


  <body>
    <header>
      <a class="logo" href="/" aria-label="Back to home">
        <img src="/images/project-fawn-logo.png" alt="Project Fawn Logo" />
      </a>
    </header>

    <main>
      <article>
        <slot />
      </article>
    </main>

    <footer>
      <form class="signup" action="https://formspree.io/f/mwprbglv" method="POST">
        <input type="email" name="email" placeholder="you@example.com" required />
        <button type="submit">Sign Up</button>
      </form>
     <div class="footer-meta">
  <div class="copyright">© {new Date().getFullYear()} Project Fawn. All rights reserved. A CTD LAB. </div>
  <a href="https://www.christrunekdesign.com/" class="footer-ctd" target="_blank" rel="noopener"
  aria-label="Visit Chris Trunek Designs (opens in new tab)">
  <img src="/images/ctd-mark-white.png" alt="CTD" />
  </a>
</div>
    </footer>
  </body>
</html>
